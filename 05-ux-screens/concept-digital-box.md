# 📦 Core Concept: กล่องเอกสารดิจิทัล (Digital Document Box)

> **จุดขายหลักของระบบ**: "สร้างกล่อง → ใส่เอกสาร → ส่งให้บัญชี"

---

## 🎯 แนวคิดหลัก

ระบบใช้แนวคิด **กล่องเอกสารดิจิทัล** โดย **1 กล่อง = 1 ธุรกรรม (รายจ่าย/รายรับ)** ซึ่งประกอบด้วยเอกสารหลายประเภทที่เกี่ยวข้องกัน

```
┌─────────────────────────────────────────────────────────────────┐
│                    📦 กล่องเอกสารดิจิทัล                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   📦 "กล่อง" = 1 ธุรกรรม (รายจ่าย/รายรับ)                        │
│   📄 "เอกสาร" = เอกสารแต่ละประเภทในกล่อง (สลิป/ใบกำกับ/WHT)      │
│   📁 "ไฟล์" = รูป/PDF ของเอกสารแต่ละประเภท                       │
│   🔄 "Timeline" = ประวัติการอัปเดตเอกสารในกล่อง                  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 📊 ตัวอย่าง: กล่องรายจ่าย

```
📦 กล่อง "ค่าบริการ IT เดือน ม.ค." (฿10,700)
│
├── 📄 ใบแจ้งหนี้ (Invoice)
│   └── 📁 invoice.pdf
│
├── 🧾 สลิปโอนเงิน
│   ├── 📁 slip_page1.jpg
│   └── 📁 slip_page2.jpg (หลายหน้าได้)
│
├── 📋 ใบกำกับภาษี
│   └── 📁 tax_invoice.pdf
│
└── 📝 หนังสือหัก ณ ที่จ่าย (WHT)
    └── 📁 wht_cert.pdf
    └── 🔄 สถานะ: รอส่งให้ผู้รับ

Timeline:
├── Day 1: รับใบแจ้งหนี้ ✅
├── Day 5: โอนเงิน + แนบสลิป ✅
├── Day 7: รับใบกำกับภาษี ✅
├── Day 10: ออก WHT cert ✅
└── Day 15: ส่ง WHT cert ให้ผู้รับ ⏳
```

---

## 📊 ตัวอย่าง: กล่องรายรับ

```
📦 กล่อง "งาน Design ลูกค้า ABC" (฿50,000)
│
├── 💰 ใบเสนอราคา (Quotation)
│   └── 📁 quotation.pdf
│
├── 📄 ใบแจ้งหนี้ (Invoice)
│   └── 📁 invoice.pdf
│
├── 🧾 ใบเสร็จรับเงิน
│   └── 📁 receipt.pdf
│
└── 📝 หนังสือหัก ณ ที่จ่าย (ถูกหัก)
    └── 📁 wht_received.pdf
    └── 🔄 สถานะ: รอรับจากลูกค้า

Timeline:
├── Day 1: ส่งใบเสนอราคา ✅
├── Day 3: ลูกค้าอนุมัติ ✅
├── Day 5: ส่งใบแจ้งหนี้ ✅
├── Day 30: ได้รับเงิน + ออกใบเสร็จ ✅
└── Day 35: รอรับ WHT cert จากลูกค้า ⏳
```

---

## ✨ ข้อดีของ Concept นี้

| ข้อดี | คำอธิบาย |
|-------|----------|
| **1 กล่อง = 1 ธุรกรรม** | เห็นภาพรวมครบในที่เดียว |
| **หลายเอกสารต่อกล่อง** | สลิป + ใบกำกับ + WHT อยู่ด้วยกัน |
| **Track Timeline ได้** | รู้ว่าเอกสารไหนมา/ไม่มา |
| **Track WHT ได้** | รู้ว่าส่ง/รับ WHT cert แล้วหรือยัง |
| **บัญชีเห็นครบ** | ไม่ต้องหาเอกสารที่เกี่ยวข้อง |

---

## 🗂️ ประเภทเอกสารในกล่อง

### รายจ่าย (Expense)
| ประเภท | ความหมาย | จำเป็น |
|--------|----------|--------|
| 🧾 สลิปโอนเงิน | หลักฐานการชำระ | ✅ |
| 📋 ใบกำกับภาษี | สำหรับขอคืน VAT | ถ้ามี |
| 📄 ใบแจ้งหนี้ | Invoice จากผู้ขาย | ถ้ามี |
| 📝 WHT (หัก ณ ที่จ่าย) | ต้องส่งให้ผู้รับ | ถ้าหัก |

### รายรับ (Income)
| ประเภท | ความหมาย | จำเป็น |
|--------|----------|--------|
| 💰 ใบเสนอราคา | Quotation | ถ้ามี |
| 📄 ใบแจ้งหนี้ | Invoice ที่เราออก | ✅ |
| 🧾 ใบเสร็จรับเงิน | หลักฐานรับเงิน | ✅ |
| 📝 WHT (ถูกหัก) | รอรับจากลูกค้า | ถ้าถูกหัก |

---

## 📊 Flow หลัก

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  1. สร้างกล่อง        2. ใส่เอกสาร         3. ส่งให้บัญชี       │
│                                                                 │
│  ┌───────────┐       ┌───────────────┐     ┌───────────┐       │
│  │    📦     │       │  📦           │     │   📦✅    │       │
│  │   ว่าง    │ ───▶  │  📄 สลิป      │ ──▶ │  ส่งแล้ว  │       │
│  │           │       │  📋 ใบกำกับ   │     │           │       │
│  └───────────┘       │  📝 WHT       │     └───────────┘       │
│                      └───────────────┘                          │
│                             │                                   │
│                             ▼                                   │
│                      [บันทึกไว้ก่อน]                             │
│                   กลับมาเพิ่มเอกสารทีหลังได้                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🖼️ Onboarding Screen

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                         📦                                      │
│                    กล่องเอกสารดิจิทัล                            │
│                                                                 │
│         "1 กล่อง = 1 ธุรกรรม รวมทุกเอกสารที่เกี่ยวข้อง"          │
│                                                                 │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │  1️⃣ สร้างกล่อง       ระบุรายจ่าย/รายรับ                 │   │
│   │  2️⃣ ใส่เอกสาร        สลิป + ใบกำกับ + WHT (เพิ่มทีหลังได้) │   │
│   │  3️⃣ ส่งให้บัญชี      บัญชีตรวจและบันทึกให้               │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│                      [เริ่มต้นใช้งาน]                            │
│                                                                 │
│                    ☐ ไม่ต้องแสดงอีก                             │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 📱 Upload Flow

### Step 1: สร้างกล่อง

```
┌─────────────────────────────────────────────────────────────────┐
│                    📦 สร้างกล่องเอกสารใหม่                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📦 Step 1: ข้อมูลธุรกรรม                                       │
│                                                                 │
│  ประเภทธุรกรรม                                                  │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ○ 📤 รายจ่าย (Expense)                                  │   │
│  │ ○ 📥 รายรับ (Income)                                    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  คำอธิบาย/ชื่อรายการ                                            │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ เช่น "ค่าบริการ IT เดือน ม.ค."                          │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  หมวดค่าใช้จ่าย                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ เลือกหมวด...                                     ▼      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ผู้ติดต่อ (ผู้ขาย/ลูกค้า)                                       │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ พิมพ์ชื่อ...                                  [+ เพิ่ม] │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│                                           [สร้างกล่อง →]       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### Step 2: ใส่เอกสารลงกล่อง

```
┌─────────────────────────────────────────────────────────────────┐
│  📦 ค่าบริการ IT เดือน ม.ค.                       [บันทึกไว้ก่อน] │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📄 Step 2: ใส่เอกสารแต่ละประเภท                                │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  🧾 สลิปโอนเงิน              📋 ใบกำกับภาษี              │   │
│  │  ┌───────────┐              ┌───────────┐              │   │
│  │  │   📄 📄   │              │    ➕     │              │   │
│  │  │  2 ไฟล์   │              │   เพิ่ม   │              │   │
│  │  └───────────┘              └───────────┘              │   │
│  │      ✅ มีแล้ว                  ⬜ ยังไม่มี              │   │
│  │                                                         │   │
│  │  📄 ใบแจ้งหนี้                📝 หัก ณ ที่จ่าย           │   │
│  │  ┌───────────┐              ┌───────────┐              │   │
│  │  │    📄     │              │    ➕     │              │   │
│  │  │  1 ไฟล์   │              │   เพิ่ม   │              │   │
│  │  └───────────┘              └───────────┘              │   │
│  │      ✅ มีแล้ว                  ⬜ ไม่มี WHT             │   │
│  │                                                         │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  💡 ใส่ได้หลายไฟล์ต่อเอกสาร (เช่น หน้า-หลัง)                    │
│  💡 เพิ่มเอกสารเมื่อไหร่ก็ได้ ไม่ต้องครบทีเดียว                 │
│                                                                 │
│                          [← กลับ]  [ถัดไป: กรอกยอด →]          │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### Step 3: ตรวจสอบและส่ง

```
┌─────────────────────────────────────────────────────────────────┐
│  📦 ค่าบริการ IT เดือน ม.ค.                       [บันทึกไว้ก่อน] │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ✅ Step 3: ตรวจสอบและส่ง                                       │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  📦 สรุปกล่อง                                           │   │
│  │  ─────────────────────────────────────────────────────  │   │
│  │  รายการ: ค่าบริการ IT เดือน ม.ค.                        │   │
│  │  หมวด: ค่าบริการ/จ้างงาน                                │   │
│  │  ผู้ขาย: บริษัท XYZ จำกัด                               │   │
│  │                                                         │   │
│  │  📄 เอกสารในกล่อง:                                      │   │
│  │  ├── 🧾 สลิปโอนเงิน (2 ไฟล์) ✅                         │   │
│  │  ├── 📋 ใบกำกับภาษี (1 ไฟล์) ✅                         │   │
│  │  ├── 📄 ใบแจ้งหนี้ (1 ไฟล์) ✅                          │   │
│  │  └── 📝 หัก ณ ที่จ่าย — ไม่มี                           │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ยอดเงินรวม                                                     │
│  ┌───────────────────┐                                         │
│  │ ฿ 10,700.00       │    ☑️ รวม VAT 7%                        │
│  └───────────────────┘                                         │
│                                                                 │
│  วันที่เอกสาร                                                   │
│  ┌───────────────────┐                                         │
│  │ 13 มกราคม 2026 ▼  │                                         │
│  └───────────────────┘                                         │
│                                                                 │
│                          [← กลับ]  [📤 ส่งให้บัญชี]             │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🔄 Timeline View (กล่องเดี่ยว)

```
┌─────────────────────────────────────────────────────────────────┐
│  📦 DOC-202601-0030 │ ค่าบริการ IT เดือน ม.ค.     [แก้ไข] [ปิด] │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  💰 ยอดรวม: ฿10,700   │   👤 บริษัท XYZ จำกัด                   │
│  📅 วันที่: 13 ม.ค.   │   🏷️ หมวด: ค่าบริการ                    │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  📄 เอกสารในกล่อง                             สถานะ            │
│  ├── 📄 ใบแจ้งหนี้        INV-2026-001        ✅ มีแล้ว         │
│  ├── 🧾 สลิปโอนเงิน       2 ไฟล์              ✅ มีแล้ว         │
│  ├── 📋 ใบกำกับภาษี       TAX-2026-0015       ✅ มีแล้ว         │
│  └── 📝 หัก ณ ที่จ่าย                         ⬜ ไม่มี          │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  🔄 Timeline                                                    │
│  │                                                              │
│  ├── 5 ม.ค. 10:30 │ สมชาย สร้างกล่อง                           │
│  ├── 5 ม.ค. 10:32 │ สมชาย เพิ่มใบแจ้งหนี้                       │
│  ├── 10 ม.ค. 14:00 │ สมชาย เพิ่มสลิปโอนเงิน                     │
│  ├── 13 ม.ค. 09:15 │ สมชาย เพิ่มใบกำกับภาษี                     │
│  ├── 13 ม.ค. 09:20 │ สมชาย ส่งให้บัญชี                          │
│  ├── 13 ม.ค. 11:00 │ สมหญิง (บัญชี) อนุมัติ                     │
│  │                                                              │
│  └── [ดูประวัติทั้งหมด]                                         │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 👨‍💼 มุมมองบัญชี: กล่องที่รอตรวจ

```
┌─────────────────────────────────────────────────────────────────┐
│  📥 กล่องที่รอตรวจ              [Filter ▼]  [Export ▼]          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ☐ │ 📦 DOC-202601-0030 │ ค่าบริการ IT │ ฿10,700         │   │
│  │   │ XYZ จำกัด │ 4 เอกสาร │ สมชาย │ 2 ชม.                 │   │
│  │   │ 🔵 รอตรวจ │ ครบแล้ว: สลิป ✓ ใบกำกับ ✓ Invoice ✓     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ☐ │ 📦 DOC-202601-0031 │ ค่าจ้าง Freelance │ ฿5,000     │   │
│  │   │ คุณสมศักดิ์ │ 2 เอกสาร │ สมหญิง │ 1 วัน              │   │
│  │   │ 🟠 รอข้อมูล │ ⚠️ ขาด: ใบกำกับภาษี                    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ☐ │ 📦 DOC-202601-0032 │ งาน Design ลูกค้า │ ฿50,000    │   │
│  │   │ ABC Corp │ 3 เอกสาร │ สมชาย │ 3 วัน                  │   │
│  │   │ 🔵 รอตรวจ │ 📝 รอรับ WHT cert จากลูกค้า             │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 📝 WHT Tracking Dashboard

```
┌─────────────────────────────────────────────────────────────────┐
│  📝 ติดตาม หัก ณ ที่จ่าย                          เดือน: ม.ค. ▼  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📤 ต้องส่งออก (WHT ที่เราออก)                    3 รายการ      │
│  ─────────────────────────────────────────────────────────────  │
│  │ 📦 DOC-0030 │ คุณสมศักดิ์ │ ฿150 │ ✅ ส่งแล้ว │ 15 ม.ค.    │
│  │ 📦 DOC-0033 │ บริษัท ABC │ ฿300 │ ⏳ รอส่ง │ —            │
│  │ 📦 DOC-0035 │ คุณมานี │ ฿90 │ ⏳ รอส่ง │ —                │
│  └───────────────────────────────────────────────────────────   │
│                                                                 │
│  📥 ต้องรับเข้า (WHT ที่ถูกหัก)                   2 รายการ      │
│  ─────────────────────────────────────────────────────────────  │
│  │ 📦 DOC-0032 │ ABC Corp │ ฿1,500 │ ✅ ได้รับแล้ว │ 18 ม.ค.  │
│  │ 📦 DOC-0036 │ XYZ Inc │ ฿750 │ ⏳ รอรับ │ —               │
│  └───────────────────────────────────────────────────────────   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🔄 Terminology Mapping

| คำเดิม | คำใหม่ (กล่อง) |
|--------|---------------|
| Document | กล่องเอกสาร / กล่อง |
| DocumentFile | เอกสารในกล่อง |
| File | ไฟล์ของเอกสาร |
| Create | สร้างกล่อง |
| Submit | ส่งกล่องให้บัญชี |
| Draft | กล่องที่ยังไม่เสร็จ |
| Inbox | กล่องที่รอตรวจ |
| ExpenseGroup | (ไม่จำเป็นแล้ว - 1 กล่อง = 1 ธุรกรรม) |

---

## 🎨 Branding Keywords

- **"กล่องเอกสารดิจิทัล"** - ใช้สื่อสารกับผู้ใช้ทั่วไป
- **"Digital Document Box"** - ใช้สื่อสารกับลูกค้าองค์กร
- **"1 กล่อง = 1 ธุรกรรม รวมทุกเอกสารที่เกี่ยวข้อง"** - Tagline หลัก
- **"ใส่เอกสารเมื่อไหร่ก็ได้ ติดตามสถานะได้ตลอด"** - จุดขายย่อย

---

## 📐 Data Model (สรุป)

```
┌─────────────────────────────────────────────────────────────────┐
│  📦 Transaction (กล่อง/ธุรกรรม)                                  │
│  ├── id, transaction_type (EXPENSE/INCOME)                     │
│  ├── description, total_amount, contact_id                     │
│  ├── status, timeline                                          │
│  │                                                              │
│  └── 📄 SubDocument[] (เอกสารแต่ละประเภท)                       │
│      ├── doc_type (SLIP, TAX_INVOICE, INVOICE, WHT_CERT, etc)  │
│      ├── doc_number, doc_date, amount                          │
│      ├── wht_status (สำหรับ WHT tracking)                      │
│      │                                                          │
│      └── 📁 DocumentFile[] (ไฟล์ของเอกสาร)                      │
│          ├── file_url, file_name                               │
│          └── page_order (สำหรับเอกสารหลายหน้า)                  │
└─────────────────────────────────────────────────────────────────┘
```
