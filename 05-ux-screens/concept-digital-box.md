# 📦 Core Concept: กล่องเอกสารดิจิทัล (Digital Document Box)

> **จุดขายหลักของระบบ**: "รวมเอกสารให้ครบ รู้ทันทีว่าขาดอะไร"

---

## 🎯 แนวคิดหลัก

ระบบเป็น **Document Hub + Tracking** ไม่ใช่ Accounting App

```
┌─────────────────────────────────────────────────────────────────┐
│                    📦 กล่องเอกสารดิจิทัล                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   📦 "กล่อง" = 1 ธุรกรรม (รายจ่าย/รายรับ)                        │
│   📄 "เอกสาร" = ไฟล์ที่อัปโหลด (สลิป/ใบกำกับ/WHT)                │
│   📊 "Tracking" = รู้ว่าเอกสารครบหรือยัง + WHT ส่ง/รับยัง         │
│                                                                 │
│   ❌ ไม่คำนวณ VAT/WHT (ให้บัญชีทำเอง)                            │
│   ❌ ไม่ต้องเลือก % หัก ณ ที่จ่าย                                │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 📊 ตัวอย่าง: กล่องรายจ่าย

```
📦 กล่อง "ค่าบริการ IT เดือน ม.ค." (฿10,700)
│
├── 📄 ใบแจ้งหนี้         ✅ มีแล้ว
├── 🧾 สลิปโอนเงิน        ✅ มีแล้ว
├── 📋 ใบกำกับภาษี        ⏳ ยังไม่มี
│
├── ☑️ มีหัก ณ ที่จ่าย
│   └── 📝 WHT cert       ✅ อัปโหลดแล้ว
│   └── สถานะ: ⏳ รอส่งให้ผู้รับ
│
└── 📊 ความครบถ้วน: 75%
```

---

## 📊 ตัวอย่าง: กล่องรายรับ

```
📦 กล่อง "งาน Design ลูกค้า ABC" (฿50,000)
│
├── 📄 ใบแจ้งหนี้         ✅ มีแล้ว
├── 🧾 ใบเสร็จรับเงิน     ✅ มีแล้ว
│
├── ☑️ ถูกหัก ณ ที่จ่าย
│   └── 📝 WHT cert       ⏳ ยังไม่ได้รับ
│   └── สถานะ: ⏳ รอรับจากลูกค้า
│
└── 📊 ความครบถ้วน: 67%
```

---

## ✨ Document Hub vs Accounting App

| Document Hub (เรา) ✅ | Accounting App ❌ |
|----------------------|-------------------|
| อัปโหลดเอกสาร | คำนวณ VAT 7% |
| Track ว่าครบยัง | คำนวณ WHT 1%/2%/3% |
| Track WHT ส่ง/รับยัง | คำนวณยอดจ่ายจริง |
| ส่งให้บัญชีตรวจ | บันทึกบัญชี |
| Export ไฟล์ | ออกรายงานภาษี |

---

## 🗂️ ประเภทเอกสารในกล่อง

### รายจ่าย (Expense)
| ประเภท | ความหมาย |
|--------|----------|
| 🧾 สลิปโอนเงิน | หลักฐานการชำระ |
| 📋 ใบกำกับภาษี | ถ้ามี (สำหรับขอคืน VAT) |
| 📄 ใบแจ้งหนี้ | Invoice จากผู้ขาย |
| 📝 WHT cert | ถ้ามีหักภาษี (ต้องส่งให้ผู้รับ) |

### รายรับ (Income)
| ประเภท | ความหมาย |
|--------|----------|
| 📄 ใบแจ้งหนี้ | Invoice ที่เราออก |
| 🧾 ใบเสร็จรับเงิน | หลังรับเงินแล้ว |
| 📝 WHT cert | ถ้าถูกหัก (รอรับจากลูกค้า) |

---

## 📝 สร้างกล่อง (Simplified)

```
┌─────────────────────────────────────────────────────────────────┐
│  📦 สร้างกล่องเอกสาร                                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ประเภท                                                         │
│  ◉ รายจ่าย    ○ รายรับ                                          │
│                                                                 │
│  รายละเอียด *                                                   │
│  [ค่าบริการ IT เดือน ม.ค._______________________________]      │
│                                                                 │
│  ยอดเงิน *                                                      │
│  [฿ 10,700______________________________________]              │
│                                                                 │
│  ผู้ติดต่อ                                                       │
│  [บริษัท ABC จำกัด__________________________________]          │
│                                                                 │
│  หมวดหมู่                                                       │
│  [ค่าบริการ ▼]                                                  │
│                                                                 │
│  วันที่                                                          │
│  [15/01/2569]                                                   │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  ☐ มีหัก ณ ที่จ่าย                                               │
│                                                                 │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  📄 เอกสาร                                                      │
│                                                                 │
│  [📷 อัปโหลดเอกสาร]                                             │
│                                                                 │
│  เลือกประเภท: ○ สลิป  ○ ใบกำกับภาษี  ○ ใบแจ้งหนี้  ○ อื่นๆ       │
│                                                                 │
│                                           [สร้างกล่อง]          │
└─────────────────────────────────────────────────────────────────┘
```

**สิ่งที่ไม่ต้องกรอก:**
- ❌ เลือก VAT 7% / VAT รวมใน
- ❌ เลือก WHT 1% / 2% / 3% / 5%
- ❌ ยอด VAT / ยอด WHT / ยอดจ่ายจริง

---

## 📊 Dashboard - เอกสารที่ต้องติดตาม

```
┌─────────────────────────────────────────────────────────────────┐
│  📥 กล่องที่รอจัดการ                                   25 กล่อง │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ⚠️ เอกสารไม่ครบ (8)                                            │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 📦 ค่าบริการ IT        | ฿10,700 | ขาด: ใบกำกับภาษี     │   │
│  │ 📦 ค่าโฆษณา FB         | ฿5,350  | ขาด: สลิป            │   │
│  │ 📦 ค่าขนส่ง            | ฿3,210  | ขาด: ใบกำกับ, WHT    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ✅ เอกสารครบแล้ว (17)                                          │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 📦 ค่าเช่าออฟฟิศ       | ฿35,000 | 3 เอกสาร ✓          │   │
│  │ 📦 ค่าอินเทอร์เน็ต     | ฿1,070  | 2 เอกสาร ✓          │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 📝 WHT Tracking Dashboard

```
┌─────────────────────────────────────────────────────────────────┐
│  📝 หัก ณ ที่จ่าย ที่ต้องติดตาม                     เดือน: ม.ค. │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📤 รอส่ง (เราหักเขา)                               3 รายการ   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 📦 ค่าบริการ IT      | บริษัท ABC      | ⏳ รอส่ง       │   │
│  │ 📦 ค่าโฆษณา          | คุณสมชาย        | ⏳ รอส่ง       │   │
│  │ 📦 ค่าขนส่ง          | บริษัท XYZ      | ⏳ รอส่ง       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  📥 รอรับ (เขาหักเรา)                               2 รายการ   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 📦 งาน Design ABC    | ABC Corp        | ⏳ รอรับ       │   │
│  │ 📦 งานที่ปรึกษา      | XYZ Inc         | ⏳ รอรับ       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ✅ เสร็จแล้ว                                       15 รายการ  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🔄 สถานะกล่อง (Simplified)

```
📝 ร่าง  →  📤 ส่งบัญชีแล้ว  →  ✅ จัดการแล้ว
```

| สถานะ | ความหมาย |
|-------|----------|
| 📝 ร่าง | กำลังรวบรวมเอกสาร |
| 📤 ส่งบัญชีแล้ว | ส่งให้บัญชีตรวจ |
| ✅ จัดการแล้ว | บัญชี export แล้ว |

---

## 📊 Tracking ความครบถ้วน

### รายจ่าย
| Item | ติดตาม |
|------|--------|
| สลิปโอนเงิน | ✅/⏳ |
| ใบกำกับภาษี | ✅/⏳/N/A |
| ใบแจ้งหนี้ | ✅/⏳/N/A |
| WHT cert (ถ้ามี) | ✅/⏳ |
| WHT ส่งแล้ว (ถ้ามี) | ✅/⏳ |

### รายรับ
| Item | ติดตาม |
|------|--------|
| ใบแจ้งหนี้ | ✅/⏳ |
| ใบเสร็จรับเงิน | ✅/⏳ |
| WHT cert (ถ้าถูกหัก) | ✅/⏳ |

---

## 👥 Contact Management

### แนวทาง: Simple - แค่ชื่ออย่างเดียว

```
┌─────────────────────────────────────────────────────────┐
│ ผู้ติดต่อ                                                │
│ [บริษัท ABC จำกัด____________________________] ✓       │
│  💡 พิมพ์แล้วเลือก หรือบันทึกใหม่                        │
└─────────────────────────────────────────────────────────┘
```

- แค่พิมพ์ชื่อ ไม่ต้องกรอก Tax ID, Address
- Autocomplete จากรายชื่อที่เคยใช้
- เพิ่มชื่อใหม่ได้ทันที

---

## 🎯 สรุป Core Features

| Feature | รายละเอียด |
|---------|------------|
| **สร้างกล่อง** | กรอกแค่: รายละเอียด, ยอดเงิน, ผู้ติดต่อ, วันที่ |
| **อัปโหลดเอกสาร** | ✨ AI แยกประเภทอัตโนมัติ (สลิป, ใบกำกับ, ใบแจ้งหนี้, WHT) |
| **Track เอกสาร** | รู้ว่าครบ/ไม่ครบ + % ความครบถ้วน |
| **Track WHT** | รู้ว่าส่ง/รับยัง (ถ้าติ๊กว่ามีหัก) |
| **ส่งบัญชี** | กดส่งเมื่อเอกสารครบ |
| **Export** | บัญชี export ไปลงโปรแกรมบัญชีจริง |

---

## 🤖 AI Document Intelligence (Gemini)

เมื่อผู้ใช้อัปโหลดรูปภาพ ระบบจะใช้ Gemini AI:
1. **แยกประเภทเอกสาร** - สลิป, ใบกำกับ, ใบแจ้งหนี้ ฯลฯ
2. **อ่านข้อมูลจากเอกสาร** - รายละเอียด, ยอดเงิน, ผู้ติดต่อ, วันที่
3. **กรอกฟอร์มให้อัตโนมัติ** - ไม่ต้องพิมพ์เอง

```
┌───────────────────────────────────────────────────────────────┐
│  📤 ✨ ลากไฟล์มาวาง หรือ คลิกเลือก                             │
│     AI จะอ่านเอกสารและกรอกข้อมูลให้อัตโนมัติ                   │
└───────────────────────────────────────────────────────────────┘

อัปโหลด invoice.jpg ...

┌───────────────────────────────────────────────────────────────┐
│ 🖼️ invoice.jpg                                                │
│ ⏳ ✨ AI กำลังอ่านเอกสาร...                                    │
└───────────────────────────────────────────────────────────────┘

เสร็จแล้ว:

┌───────────────────────────────────────────────────────────────┐
│ 🖼️ invoice.jpg                                                │
│ [ใบแจ้งหนี้ ▼] ✨ AI                                          │
│ ─────────────────────────────────────────────                 │
│ 📝 ค่าโฆษณา Facebook เดือน ม.ค. 2026                          │
│ 💰 ฿15,000                                                    │
│ 🏢 บริษัท เอบีซี จำกัด                                         │
│ 📅 2026-01-15                                                 │
└───────────────────────────────────────────────────────────────┘

🤖 AI กรอกให้: รายละเอียด, ยอดเงิน, ผู้ติดต่อ, วันที่
```

### ข้อมูลที่ AI ดึงได้

| Field | คำอธิบาย |
|-------|----------|
| **description** | รายละเอียด/รายการที่ซื้อ (สรุปสั้นๆ) |
| **amount** | ยอดเงินรวมสุทธิ |
| **contactName** | ชื่อบริษัท/ร้านค้า/ผู้รับเงิน |
| **documentDate** | วันที่ในเอกสาร |
| **documentNumber** | เลขที่เอกสาร |
| **taxId** | เลขประจำตัวผู้เสียภาษี |

### ประเภทที่ AI แยกได้

| Type | ลักษณะที่ AI ดู |
|------|----------------|
| **SLIP** | มี "โอนเงินสำเร็จ", "Transfer", ยอดเงิน |
| **TAX_INVOICE** | มี "ใบกำกับภาษี", เลข Tax ID, VAT แยก |
| **INVOICE** | มี "ใบแจ้งหนี้", รายการสินค้า/บริการ |
| **RECEIPT** | มี "ใบเสร็จรับเงิน", ยืนยันการรับเงิน |
| **WHT_CERT** | มี "50 ทวิ", แบบฟอร์มภาษี |
| **QUOTATION** | มี "ใบเสนอราคา" |

### หาก AI อ่านผิด

- เลือกประเภทใหม่จาก dropdown ได้ทันที
- แก้ไขข้อมูลในฟอร์มได้ตามปกติ

---

## ❌ สิ่งที่ไม่ทำ (ให้บัญชีทำเอง)

| ไม่ทำ | เหตุผล |
|-------|--------|
| คำนวณ VAT | บัญชีคำนวณในโปรแกรมบัญชี |
| คำนวณ WHT | บัญชีคำนวณในโปรแกรมบัญชี |
| เลือก % หัก ณ ที่จ่าย | Staff ไม่ต้องรู้ |
| Fiscal Period | บัญชีจัดการเอง |
| บันทึกบัญชี | ใช้โปรแกรมบัญชีจริง |
