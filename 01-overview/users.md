# 👥 ผู้ใช้หลัก (Primary Users)

> **Multi-tenant**: User 1 คน สามารถอยู่หลาย Organization ได้ ด้วย Role ต่างกัน

## 1.1 CEO / พนักงานที่ส่งเอกสาร

**บทบาท:** `staff`

**หน้าที่หลัก:**
- ส่งหลักฐานการจ่ายเงิน:
  - สลิปโอน
  - ใบเสร็จ
  - ใบกำกับภาษี
  - ใบแจ้งหนี้
- ต้องส่งให้ถูกหมวด/ถูกศูนย์ต้นทุน/ครบข้อมูลขั้นต่ำ

**สิทธิ์:**
- ส่งเอกสาร
- ดูเอกสารตัวเอง
- ตอบ comment จากบัญชี

---

## 1.2 ฝ่ายบัญชี

**บทบาท:** `accounting`

**หน้าที่หลัก:**
- ตรวจความครบถ้วนของเอกสาร
- จัดหมวด + ตรวจ VAT/WHT
- บันทึกเข้าระบบบัญชี/ทำภาษี/ปิดเดือน

**สิทธิ์:**
- ตรวจ/approve ทุกเอกสาร
- Export ข้อมูล
- จัดการงวดบัญชี
- เพิ่ม comment/ขอข้อมูลเพิ่ม

---

## 1.3 Admin / เจ้าของกิจการ

**บทบาท:** `admin`

**หน้าที่หลัก:**
- ตั้งค่าโครงสร้างหมวดค่าใช้จ่าย
- ตั้งค่าศูนย์ต้นทุน/แผนก
- ดูสรุปความคืบหน้าเอกสาร
- ดูรายงานค้างส่ง

**สิทธิ์:**
- ทุกอย่างที่ accounting ทำได้
- ตั้งค่าระบบทั้งหมด
- จัดการผู้ใช้และสิทธิ์

---

## ตารางสรุปสิทธิ์

| Role | สิทธิ์ |
|------|-------|
| `staff` | ส่งเอกสาร, ดูเอกสารตัวเอง |
| `accounting` | ตรวจ/approve ทุกเอกสาร, export |
| `admin` | ทุกอย่าง + ตั้งค่าระบบ + จัดการผู้ใช้ |
| `owner` | ทุกอย่าง + Billing + ลบองค์กร |

### ตารางสิทธิ์ละเอียด (Role Permissions Matrix)

| Permission | staff | accounting | admin | owner |
|------------|-------|------------|-------|-------|
| สร้าง/ส่งเอกสาร | ✅ | ✅ | ✅ | ✅ |
| ดูเอกสารตัวเอง | ✅ | ✅ | ✅ | ✅ |
| ดูเอกสารทุกคน | ❌ | ✅ | ✅ | ✅ |
| ตรวจ/Approve | ❌ | ✅ | ✅ | ✅ |
| Export | ❌ | ✅ | ✅ | ✅ |
| ตั้งค่าหมวด/ศูนย์ต้นทุน | ❌ | ❌ | ✅ | ✅ |
| จัดการผู้ใช้ | ❌ | ❌ | ✅ | ✅ |
| Billing/Payment | ❌ | ❌ | ❌ | ✅ |
| ลบองค์กร | ❌ | ❌ | ❌ | ✅ |

---

## User Flow ตัวอย่าง

### Staff Flow
```
ถ่ายรูปใบเสร็จ → อัปโหลด → กรอกข้อมูล → ส่งตรวจ → รอผล
                                              ↓
                              ถ้าขอข้อมูลเพิ่ม → ตอบ comment → ส่งใหม่
```

### Accounting Flow
```
รับเอกสารใหม่ → ตรวจสอบ → ขอข้อมูลเพิ่ม / Approve / Reject
                              ↓
                    ถ้า Approve → Export → บันทึกบัญชี
```

### Admin Flow
```
ตั้งค่าหมวด → ตั้งค่าศูนย์ต้นทุน → กำหนดสิทธิ์ผู้ใช้ → ติดตาม Dashboard
```
